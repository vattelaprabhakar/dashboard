@{
    ViewBag.Title = "ProductWise";
    Layout = "~/Views/Shared/_Layout3.cshtml";
}
<html>
    <head>
        <title></title>

            <!-- Date Picker -->  
    <link rel="stylesheet" href="//code.jquery.com/ui/1.12.1/themes/base/jquery-ui.css">
  <link rel="stylesheet" href="/resources/demos/style.css">
     <!-- UI -->  
         @* <link rel="stylesheet" href="https://cdn.datatables.net/buttons/1.6.1/css/buttons.dataTables.min.css">*@
     <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap.min.css">
    <link rel="stylesheet" href="https://stackpath.bootstrapcdn.com/font-awesome/4.7.0/css/font-awesome.min.css" />
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.7/css/bootstrap-theme.min.css">
   <!-- Data table -->  
      <link href=" //cdn.datatables.net/1.10.9/css/jquery.dataTables.min.css" rel="stylesheet" type="text/css" />
      <link rel="stylesheet" href="https://cdn.datatables.net/buttons/1.4.1/css/buttons.dataTables.min.css">
        <link type="text/css" media="screen" rel="stylesheet" href="responsive-tables.css" />

     <script type="text/javascript" charset="utf8" src="//code.jquery.com/jquery-3.3.1.js"></script>
  <script src="https://code.jquery.com/ui/1.12.1/jquery-ui.js"></script>
  <script src="https://cdn.datatables.net/1.10.10/js/jquery.dataTables.min.js" type="text/javascript"></script>  
                    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.22.2/moment.min.js"></script>

  <script type="text/javascript" src="//cdn.datatables.net/plug-ins/1.10.19/sorting/datetime-moment.js"></script>
     <script type="text/javascript" src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js"></script>

        <script type="text/javascript" src="https://cdn.datatables.net/buttons/1.4.1/js/dataTables.buttons.min.js"></script>
<script type="text/javascript"  src="https://cdn.datatables.net/buttons/1.4.1/js/buttons.flash.min.js"></script>
<script type="text/javascript"  src="https://cdn.datatables.net/buttons/1.4.1/js/buttons.html5.min.js"></script>
<script type="text/javascript"  src="https://cdn.datatables.net/buttons/1.4.1/js/buttons.print.min.js"></script>
         <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/pdfmake.min.js"></script>
 <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/pdfmake/0.1.53/vfs_fonts.js"></script> 
        <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.1.3/jszip.min.js"></script> 
        <script type="text/javascript" src="responsive-tables.js"></script>
        
       <style type="text/css">
           /*div.dataTables_wrapper {
        width: 100%;
        
    }*/
           /*th, td { 
white-space: nowrap;
}*/
           /*table.dataTable tbody th,
table.dataTable tbody td {
    white-space: nowrap;
}*/
/*div.dataTables_wrapper {
        width: 100%;
        margin: 0 auto;
    }*/
/*div.dataTables_wrapper {
    position:relative ;overflow:auto; height:500px;
}
.fixed_header tbody{
  display:block;
  overflow:auto;
  height:200px;
  width:100%;
}
.fixed_header thead tr{
  display:block;
}*/
           /*body {
  font: 90%/2.45em "Helvetica Neue", HelveticaNeue, Verdana, Arial, Helvetica, sans-serif;
  margin: 0;
  padding: 0;
  color: #333;
  background-color: #fff;
}*/

           /*#table1 {
    overflow-x: scroll;
   
}*/
       </style>

    </head>
    <body>
   <div class="form-group row ">
        <div class="Absolute-Center is-Responsive">
                    <div class="row vertical-center-row">
                       
                         <h3 class="text-muted text-left font-18 "><b class="btn-warning">ProductWise Reports</b></h3>
                    </div>
                </div>
 <div class="col-md-12"><span class="required">Product</span></div>
                                    <div class="col-md-12">
                                        <div class="form-check form-check-inline">
                                            @foreach (FortuneTechPvtLtd.Models.Product product in ViewBag.products)
                                            {
                                                @Html.RadioButton("Product", product.ProductId, new { @class = "form-check-input" })@Html.Label(product.ProductName, new { @class = "form-check-label mr-3" })
                                            }
                                           
                                        </div>
                                        <input type="hidden" id="hdnselectedinterestedcourse" value="" name="hdnselectedinterestedcourse" />
                                    </div>
                              </div> 
         <div class="form-group row">
                               
                                    <div class="col-md-12">
                                        <input class="btn btn-info btn-rounded" type="submit" name="Submit" value="Submit" id="btnsubmit" />
                                    </div>
                               
                            </div>
        <div id="datatablediv" class="scroll">
           
          <table id="table1" class="table table-striped table-bordered nowrap table-responsive" style="width:100%;text-align:center">
                           <thead>
                    <tr class="danger">
                         <th>Lead  Date</th>
                        <th>Lead Name</th>
                        <th>Mobile</th>
                          <th>Product</th>
                        <th>Source</th>
                        <th>Comment1</th>
                        <th>Email</th>
                        <th>Address</th>
                        <th>Want SMS Alerts</th>
                           <th>Want Mail Alerts</th>
                        <th>Assigned By</th>
                        <th>Status</th>
                        <th>Lead Owner</th>
                        <th>Website</th>
                        <th>Industry</th>
                        <th>Rating</th>
                        <th>Lead Assigned To</th>
                        <th>FollowupDate</th>
                        <th>Comment2</th>
                        <th>Comment3</th>
                    </tr>
                </thead>
                <tbody></tbody>
                            </table>
    

          </div>
    

        <script type="text/javascript">
            $(document).ready(function () {
                $.fn.dataTable.moment('DD/MM/YYYY');
                $('#datatablediv').hide();
                $("#btnsubmit").click(function () {
                    $('#datatablediv').show();
                    //var producttext = $("#hdnselectedinterestedcourse").val();
                    var producttext = $("input[name='Product']:checked").next().html();
                    //alert(producttext)
                    $('#table1').DataTable().destroy(); //removes data but keeps HTML in DOM
                    //$('#table1').html(''); //remove 
                    $('#table1').DataTable({
                        //"fixedHeader": true,
                        //"scrollY": "650px",
                        //"sScrollX": "100%",
                        //"scrollCollapse": true,
                        //"ScrollY": true,
                        //"ScrollY": "50vh",
                        //"ScrollCollapse": true,
                       // scrollY: 200,
                       // "sScrollX": "100%",
                       // "scrollX": true,
                       // deferRender:    true,
                       // scroller:       true,
                        //scrollX: true,
                        //"bScrollCollapse": true,
                        //"sScrollX": "100%",
                        //"bScrollCollapse": true,
                        //"bJQueryUI": true,
                        //"scrollY": 200,
                        //"scrollX": true,
                        dom: "Bfrtip",
                        buttons: [
           'copy', 'csv', 'excel', 'pdf', 'print'
                        ],
                        ajax: {
                            url: "/Reports/GetProductWise",
                            type: "get",
                            datatype: "json",
                            dataSrc: "",
                            data: { product: producttext }, 
                        },
                        columns: [
                             {
                                 'data': 'Leaddate', "render": function (data) {
                                     if (data === null) return "";
                                     return moment(data).format('DD/MM/YYYY');
                                 }

                             },
                    { 'data': 'LeadName' },
                     { 'data': 'Mobile' },
                       { 'data': 'selectedinterestedcourse' },
                          { 'data': 'selectedrefby' },
                           { 'data': 'Comment1' },
                      { 'data': 'Email' },
                       { 'data': 'Address' },
                            { 'data': 'seletedwantsmsalerts' },
                               { 'data': 'seletedwantmailalerts' },
                              { 'data': 'LeadAssignedby' },
                                { 'data': 'selectedstatus' },
                                  { 'data': 'LeadOwner' },
                                  { 'data': 'Website' },
                                      { 'data': 'Industry' },
                                  { 'data': 'Rating' },
                                    { 'data': 'selectedleadassignedto' },
                                     
                                       { 'data': 'Followupdate', "render": function (data) {
                                           if (data === null) return "";
                                           return moment(data).format('DD/MM/YYYY');
                                       }
                                           
                                       },
                                         { 'data': 'Comment2' },
                                           { 'data': 'Comment3' }
                        ]
                    });
                  
                    //$('a[data-toggle="tab"]').on('shown.bs.tab', function (e) {
                    //    $($.fn.dataTable.tables(true)).css('width', '100%');
                    //    $($.fn.dataTable.tables(true)).DataTable().columns.adjust().draw();
                    //});
                });
                $("input[type=radio][name='Product']").click(function () {
                    //var oSettings = $('#table1').dataTable().fnSettings();
                    //var iTotalRecords = oSettings.fnRecordsTotal();
                    //for (i = 0; i <= iTotalRecords; i++) {
                    //    $('#table1').dataTable().fnDeleteRow(0, null, true);
                    //}

                    $('#datatablediv').hide();
                });
            });
            </script>
        </body>
</html>